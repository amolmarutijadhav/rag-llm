# RAG LLM API Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# PROVIDER CONFIGURATION - Plugin Architecture
# =============================================================================

# Provider Types (openai, inhouse, cohere, anthropic, etc.)
PROVIDER_EMBEDDING_TYPE=openai
PROVIDER_LLM_TYPE=openai
PROVIDER_VECTOR_STORE_TYPE=qdrant

# =============================================================================
# EXTERNAL API ENDPOINTS - Complete URLs
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
EMBEDDING_API_URL=https://api.openai.com/v1/embeddings
LLM_API_URL=https://api.openai.com/v1/chat/completions

# Qdrant Configuration
QDRANT_API_KEY=your_qdrant_api_key_here
VECTOR_INSERT_API_URL=https://your-cluster-id.us-east-1-0.aws.cloud.qdrant.io:6333/collections/documents/points
VECTOR_SEARCH_API_URL=https://your-cluster-id.us-east-1-0.aws.cloud.qdrant.io:6333/collections/documents/points/search
VECTOR_COLLECTION_URL=https://your-cluster-id.us-east-1-0.aws.cloud.qdrant.io:6333/collections/documents

# =============================================================================
# AI MODEL CONFIGURATION
# =============================================================================

# Embedding Model
EMBEDDING_MODEL=text-embedding-ada-002

# LLM Model
LLM_MODEL=gpt-3.5-turbo
LLM_TEMPERATURE=0.1
LLM_MAX_TOKENS=1000

# Vector Database Configuration
QDRANT_COLLECTION_NAME=documents
VECTOR_SIZE=1536
VECTOR_DISTANCE_METRIC=Cosine

# =============================================================================
# CERTIFICATE CONFIGURATION
# =============================================================================

# SSL Certificate Configuration
CERT_FILE_PATH=
VERIFY_SSL=True
CERT_VERIFY_MODE=auto

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Server Configuration
DEBUG=True
HOST=0.0.0.0
PORT=8000

# Document Processing
MAX_FILE_SIZE=10485760  # 10MB in bytes
SUPPORTED_FORMATS=.pdf,.txt,.docx
CHUNK_ID_SEPARATOR=_
DEFAULT_SOURCE_NAME=text_input

# =============================================================================
# RAG CONFIGURATION
# =============================================================================

CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RESULTS=3
DEFAULT_TOP_K=3
CONTENT_PREVIEW_LENGTH=200

# RAG Prompt Template
RAG_PROMPT_TEMPLATE=You are a helpful AI assistant that answers questions based on the provided context. Use only the information from the context to answer the question. If the context doesn't contain enough information to answer the question, say "I don't have enough information to answer this question."\n\nContext:\n{context}\n\nQuestion: {question}\n\nAnswer:

# =============================================================================
# TOKEN CONFIGURATION
# =============================================================================

# Response generation limits
MAX_RESPONSE_TOKENS=4000
MIN_RESPONSE_TOKENS=100

# Context limits
MAX_CONTEXT_TOKENS=8000
MAX_TOTAL_TOKENS=16000

# =============================================================================
# HTTP CONFIGURATION
# =============================================================================

REQUEST_TIMEOUT=30
MAX_RETRIES=3

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Clear Endpoint Security
CLEAR_ENDPOINT_API_KEY=admin-secret-key-change-me
CLEAR_ENDPOINT_CONFIRMATION_TOKEN=CONFIRM_DELETE_ALL_DATA
CLEAR_ENDPOINT_RATE_LIMIT_PER_HOUR=5
ENABLE_CLEAR_ENDPOINT_AUDIT_LOGGING=True

# =============================================================================
# FASTAPI CONFIGURATION
# =============================================================================

API_TITLE=RAG LLM API
API_DESCRIPTION=A simple RAG (Retrieval-Augmented Generation) API for document Q&A
API_VERSION=1.0.0

# CORS Configuration
CORS_ALLOW_ORIGINS=*
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# =============================================================================
# IN-HOUSE PROVIDER CONFIGURATION
# =============================================================================

# To use in-house providers, uncomment and configure these:
# PROVIDER_EMBEDDING_TYPE=inhouse
# PROVIDER_LLM_TYPE=inhouse
# PROVIDER_VECTOR_STORE_TYPE=inhouse

# In-house API endpoints (example)
# INHOUSE_EMBEDDING_API_URL=https://your-inhouse-embedding-api.com/v1/embeddings
# INHOUSE_LLM_API_URL=https://your-inhouse-llm-api.com/v1/chat/completions
# INHOUSE_VECTOR_STORE_URL=https://your-inhouse-vector-store.com/api
# INHOUSE_API_KEY=your_inhouse_api_key_here

# =============================================================================
# ENHANCED IN-HOUSE LLM CONFIGURATION
# =============================================================================

# In-house LLM API Configuration
# INHOUSE_LLM_API_URL=https://your-inhouse-llm-api.com/v1/chat/completions
# INHOUSE_LLM_API_KEY=your_inhouse_llm_api_key_here
# INHOUSE_LLM_MODEL=your-inhouse-model-name
# INHOUSE_LLM_TEMPERATURE=0.1
# INHOUSE_LLM_MAX_TOKENS=1000

# In-house LLM Static Fields for Authentication/Identification
# These fields will be automatically added to every request
# INHOUSE_LLM_CLIENT_ID=rag-llm-system
# INHOUSE_LLM_VERSION=2.0
# INHOUSE_LLM_ENVIRONMENT=production
# INHOUSE_LLM_REQUEST_SOURCE=api
# INHOUSE_LLM_AUTH_TOKEN=your-static-auth-token
# INHOUSE_LLM_ORGANIZATION_ID=your-org-id
# INHOUSE_LLM_PROJECT_ID=your-project-id

# In-house LLM Authentication Scheme
# Options: bearer, api_key, custom
# INHOUSE_LLM_AUTH_SCHEME=bearer

# In-house LLM Request/Response Format Configuration
# INHOUSE_LLM_REQUEST_FORMAT=openai  # or custom
# INHOUSE_LLM_RESPONSE_FORMAT=openai  # or custom

# =============================================================================
# IN-HOUSE EMBEDDING CONFIGURATION
# =============================================================================

# In-house Embedding API Configuration
# INHOUSE_EMBEDDING_API_URL=https://your-inhouse-embedding-api.com/v1/embeddings
# INHOUSE_EMBEDDING_API_KEY=your_inhouse_embedding_api_key_here
# INHOUSE_EMBEDDING_MODEL=your-inhouse-embedding-model
# INHOUSE_EMBEDDING_AUTH_SCHEME=bearer

# =============================================================================
# IN-HOUSE VECTOR STORE CONFIGURATION
# =============================================================================

# In-house Vector Store API Configuration
# INHOUSE_VECTOR_STORE_URL=https://your-inhouse-vector-store.com/api
# INHOUSE_VECTOR_STORE_API_KEY=your_inhouse_vector_store_api_key_here
# INHOUSE_VECTOR_STORE_AUTH_SCHEME=api_key 